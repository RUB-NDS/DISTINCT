version: '3'

services:
  distinct-core:
    build: ./distinct-core
    container_name: distinct-core
    restart: always
    ports:
      - "9080:80"
    networks:
      - distinct-net
    volumes:
      - distinct-core-data:/app/data
  distinct-browser:
    build: ./distinct-browser
    container_name: distinct-browser
    restart: always
    depends_on:
      - distinct-core
    ports:
      - "9090:8080"
    networks:
      - distinct-net
    volumes:
      - distinct-browser-data:/app/data

networks:
  distinct-net:
    driver: bridge
    enable_ipv6: false
    ipam:
      driver: default
      config:
        - subnet: 172.17.90.0/24
          ip_range: 172.17.90.0/24
          gateway: 172.17.90.1

volumes:
  distinct-browser-data:
  distinct-core-data:
